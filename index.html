<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Free Web tutorials">
    <meta name="keywords" content="HTML, CSS, JavaScript">
    <meta name="author" content="John Doe">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/bootstrap.css">
    <link rel="stylesheet" href="./css/common-css.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/agate.min.css">
    <link rel="stylesheet" href="./header/header.css">
    <style>

    </style>
</head>

<body>
    <!-- <nav class="nav" id="header"></nav> -->

    <div class="container-fluid">
        <h1><a href="./pages/index.html">Home</a></h1>
        <h2><a href="./projects/Tic-Tok-Toi-game/game.html">Tic Tok Toi game</a></h2>
        <button onClick="sendInformation()">
            send data
        </button>
    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <!-- <script src="./require.js"></script> -->
    <script src="https://requirejs.org/docs/release/2.3.5/minified/require.js"></script>
    <script src="./pages/main.js"></script>
    <!-- <script src="./notes-data/home-notes.js"></script> -->
    <script src="./header/header.js"></script>

    <script>
        // mainDom(commonData.commonNote)

        function sendInformation() {
            const fs = require('fs');

            // Read the contents of the JSON file
            const data = fs.readFileSync('./db/db.json');
            // Parse the JSON data into a JavaScript object
            const jsonData = JSON.parse(data);

            console.log("Before Adding data", JSON.stringify(jsonData, null, 4));

            // Modify the JavaScript object by adding new data
            jsonData.users.push({
                "username": "Ram",
                "surname": "Brown",
                "id": [1]
            });


            // Convert the JavaScript object back into a JSON string
            const jsonString = JSON.stringify(jsonData);

            fs.writeFileSync('./db/db.json', jsonString, 'utf-8', (err) => {
                if (err) throw err;
                console.log('Data added to file');
            });

            const update_data = fs.readFileSync('./db/db.json');
            const updated_jsonData = JSON.parse(update_data);
            console.log("After Adding data", JSON.stringify(updated_jsonData, null, 4));
        }


    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <!-- and it's easy to individually load additional languages -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script>hljs.highlightElement();</script>
</body>

</html>